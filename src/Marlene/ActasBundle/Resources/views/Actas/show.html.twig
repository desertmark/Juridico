{% extends 'JordiLlonchCrudGeneratorBundle::layout.html.twig' %}

{% block title %}
{{ parent() }} - {{ 'views.show.show'|trans({'%entity%': 'Actas'}, 'JordiLlonchCrudGeneratorBundle') }}
{% endblock %}

{% block javascript %}
    <script type="text/javascript" src="{{ asset('js/comentarios_ui.js') }}"></script>
{% endblock %}

{% block page %}

<h1>Actas</h1>

<form class="form-horizontal">
    <fieldset>        
        <div class="control-group">
            <label class="control-label">Id</label>
            <div class="controls">                
                <span id="actaId" class="input-xlarge uneditable-input">{{ entity.id }}</span>            
            </div>
        </div>
        <div class="control-group">
            <label class="control-label">Cliente</label>
            <div class="controls">                
                <span class="input-xlarge uneditable-input">{{ entity.cliente }}</span>            
            </div>
        </div>
        <div class="control-group">
            <label class="control-label">Actuacion</label>
            <div class="controls">                
                <span class="input-xlarge uneditable-input">{{ entity.actuacion }}</span>            
            </div>
        </div>          
        <div class="control-group">
            <label class="control-label">Fecha</label>
            <div class="controls">                
                <span class="input-xlarge uneditable-input">{{ entity.fecha|date('d-m-Y') }}</span>            
            </div>
        </div>
        <div class="control-group">
            <label class="control-label">Abogado</label>
            <div class="controls">                
                <span class="input-xlarge uneditable-input">{{ entity.abogado }}</span>            
            </div>
        </div> 
        <div class="control-group">
            <label class="control-label">Abogado Contraparte</label>
            <div class="controls">                
                <span class="input-xlarge uneditable-input">{{ entity.abogadoContraparte }}</span>            
            </div>
        </div> 
        <div class="control-group">
            <label class="control-label">Juzgado</label>
            <div class="controls">                
                <span class="input-xlarge uneditable-input">{{ entity.juzgado }}</span>            
            </div>
        </div> 
        <div class="control-group">
            <label class="control-label">Detalles</label>
            <div class="controls">                
                <span class="input-xlarge uneditable-input">{{ entity.detalle }}</span>  
            </div>
        </div>
        <div class="control-group">
            <label class="control-label">Descrpcion</label>
            <div class="controls">                
                <span class="input-xlarge uneditable-input">{{ entity.descripcion }}</span>  
            </div>
        </div>
    </fieldset>
</form>


<div>
    <div class="float-left" style="margin-left:10%">
        <a class="btn" href="{{ path('actas') }}">
            {{ 'views.recordactions.backtothelist'|trans({}, 'JordiLlonchCrudGeneratorBundle') }}
        </a>
    </div>
    <div class="float-left ">
        <a class="btn btn-primary" href="{{ path('actas_edit', { 'id': entity.id }) }}">
            {{ 'views.recordactions.edit'|trans({}, 'JordiLlonchCrudGeneratorBundle') }}
        </a>
    </div>
    <div class="float-left ">
        <form action="{{ path('actas_delete', { 'id': entity.id }) }}" method="post">
            <input type="hidden" name="_method" value="DELETE" />
            {{ form_widget(delete_form) }}

            <button class="btn btn-danger" type="submit" onclick="return confirm('{{ 'views.recordactions.confirm'|trans({}, 'JordiLlonchCrudGeneratorBundle') }}');">{{ 'views.recordactions.delete'|trans({}, 'JordiLlonchCrudGeneratorBundle') }}</button>
        </form>
    </div>
</div>
<br>
<br>
<br>
<div id="divComentarios">

    <h4>Comentarios:</h4>
    
    <table id="comentariosTbl" class="table table-striped table-bordered table-condensed">
        <thead>
            <th class="creador">Creado por</th>
            <th class="fechaHora">Creado el</th>
            <th class="texto">Texto</th>
            <th class="eliminar">Eliminar</th>
        </thead>
        <tbody>
            {% for com in entity.comentarios %}
            <tr>
                <td>{{com.creador|default('value')}}</td>
                <td>{{com.fechaHora|date('d-m-Y H:i:s')}}</td>
                <td>{{com.texto}}</td>
                <td>
                    <form method="POST" action="{{ path('actas_comentarios_delete', { 'id': com.id }) }}">
                        <input type="hidden" name="_method" value="DELETE" />
                        {{ form_widget(com_delete_forms[loop.index0]) }}
                        <input type="hidden" value="{{ entity.id }}" name="actaId"/>
                        <button type="submit" class="btn btn-danger" onclick="return confirm('Esta seguro que desea borrar el comentario?')">x</button>
                    </form>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% if entity.comentarios.isEmpty()==1 %}
    <h5>No hay comentarios en este acta</h5>
    {%endif%}
    <button id="btnComentar" class="btn btn-success" onClick = "comentar('{{ app.user }}')">Comentar acta</button>
</div>






{% endblock %}